<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>linux 常用命令 | 记事本</title><meta name="keywords" content="Linux,汇总"><meta name="author" content="zq"><meta name="copyright" content="zq"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="linux 常用命令常用–help（在后，指令的选项与参数），man（在前）  [Tab]的命令补全、文件补全功能。  [Ctrl]-c 中断目前程序  [Ctrl]-d  EOF 或者退出  [Shift] +{[pageUP]} 前后翻页键   echo 显示、打印的意思   目录的操作：.          此层目录..         上一层目录-    前一个工作目录~    【目前身份">
<meta property="og:type" content="article">
<meta property="og:title" content="linux 常用命令">
<meta property="og:url" content="http://example.com/2019/09/03/linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/index.html">
<meta property="og:site_name" content="记事本">
<meta property="og:description" content="linux 常用命令常用–help（在后，指令的选项与参数），man（在前）  [Tab]的命令补全、文件补全功能。  [Ctrl]-c 中断目前程序  [Ctrl]-d  EOF 或者退出  [Shift] +{[pageUP]} 前后翻页键   echo 显示、打印的意思   目录的操作：.          此层目录..         上一层目录-    前一个工作目录~    【目前身份">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/imgs/butiful2.png">
<meta property="article:published_time" content="2019-09-03T05:43:38.250Z">
<meta property="article:modified_time" content="2022-05-04T00:00:00.000Z">
<meta property="article:author" content="zq">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="汇总">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/imgs/butiful2.png"><link rel="shortcut icon" href="/imgs/favicon.png"><link rel="canonical" href="http://example.com/2019/09/03/linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'linux 常用命令',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-04 08:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/imgs/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/imgs/butiful2.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">记事本</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">linux 常用命令</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-09-03T05:43:38.250Z" title="发表于 2019-09-03 13:43:38">2019-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-04T00:00:00.000Z" title="更新于 2022-05-04 08:00:00">2022-05-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">常用命令</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">10.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>42分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="linux-常用命令"><a href="#linux-常用命令" class="headerlink" title="linux 常用命令"></a>linux 常用命令</h1><p><strong>常用–help（在后，指令的选项与参数），man（在前）</strong></p>
<ol>
<li><p>[Tab]的命令补全、文件补全功能。</p>
</li>
<li><p>[Ctrl]-c 中断目前程序</p>
</li>
<li><p>[Ctrl]-d  EOF 或者退出</p>
</li>
<li><p>[Shift] +{[pageUP]} 前后翻页键</p>
</li>
<li></li>
<li><p>echo 显示、打印的意思</p>
</li>
</ol>
<h3 id="目录的操作："><a href="#目录的操作：" class="headerlink" title="目录的操作："></a>目录的操作：</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.          此层目录</span><br><span class="line">..         上一层目录</span><br><span class="line">-    前一个工作目录</span><br><span class="line">~    【目前身份用户】所在的home目录</span><br><span class="line">~account   account 用户的home目录</span><br></pre></td></tr></table></figure>



<ul>
<li><p>cd  变换目录</p>
</li>
<li><p>pwd  显示当前目录  （注意-P参数）</p>
</li>
<li><p>mkdir  建立新目录  （-p参数 递归建立多层目录）</p>
</li>
<li><p>rmdir  删除空目录  （-P 连同上层空目录也删除）</p>
</li>
<li><p>ls   文件与目录的检视：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls [选项] [目录或文件名]</span><br><span class="line"></span><br><span class="line">选项与参数：</span><br><span class="line">-a    全部文件，包括隐藏的</span><br><span class="line">-d    仅列出目录本身，而不是列出目录中的文件数据</span><br><span class="line">-l    长数据串行出，包含文件的属性与权限等数据</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改文件属性</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chgrp	改变文件所属群组 chgrp [-R] 群组名 文件或目录</span><br><span class="line">chown	改变文件拥有者	chown [-R] 账号名 文件或目录/chown [-R] 账号名：群组名 文件或目录</span><br><span class="line">chmod	改变文件权限   chmod [-R] xyz 文件或目录 （xyz为各身份累加分数）</span><br><span class="line">	各权限分数对照：</span><br><span class="line">		r:4</span><br><span class="line">		w:2</span><br><span class="line">		x:1</span><br></pre></td></tr></table></figure>

<p>每种身份的各自三种权限需要累加。</p>
<p>chmod 的另一种用法：u,g,o,a分别代表user,group,others，all</p>
</li>
</ul>
<p>  <img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567674497624.png" alt="1567674497624"></p>
<p>  例：想设定文件【-rwxr-xr-x】 <code>chmod u=rwx,go=rx filename</code></p>
<p>  权限对于文件和目录的意义：</p>
<p>  <img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567674876345.png" alt="1567674876345"></p>
<ul>
<li><p>cp  复制文件或目录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-a   相当于 -dr --preserve=all </span><br><span class="line">-d   若来源文件为链接文件的属性，则复制属性</span><br><span class="line">-i   若目标文件已经存在，在覆盖时会先询问</span><br><span class="line">-p   连同文件的属性一起复制，备份常用</span><br><span class="line">-r   递归持续复制，用于目录的复制</span><br><span class="line">--preserve=all  </span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>rm 移除文件或目录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm [选项][文件或目录]</span><br><span class="line">选项：</span><br><span class="line">-f   忽略不存在的文件</span><br><span class="line">-i   删除前会询问</span><br><span class="line">-r   递归删除</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>mv 移动文件与目录，或更名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv [选项][来源][目标]</span><br><span class="line">选项：</span><br><span class="line">-f    强制，目标已存在时会强制覆盖</span><br><span class="line">-i    会询问</span><br><span class="line">-u    目标已存在时，若来源较新才更新</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="文件内容查阅"><a href="#文件内容查阅" class="headerlink" title="文件内容查阅"></a>文件内容查阅</h4><ul>
<li><p>cat   由第一行开始显示文件内容</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat [选项]</span><br><span class="line">选项：</span><br><span class="line">-A    相当于 -vET</span><br><span class="line">-b    列出行号，不包括空白行</span><br><span class="line">-E    将结尾的断行字符显示出来</span><br><span class="line">-n    打印出行号，包括空白行</span><br><span class="line">-T    将tab键以^I显示</span><br><span class="line">-v    列出一些看不到的特殊字符</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>tac    从最后一行开始显示</li>
</ul>
<ul>
<li>nl    显示时输出行号</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nl [选项] 文件</span><br><span class="line">选项：</span><br><span class="line">-b    行号指定方式：</span><br><span class="line">		-b a  空行也标</span><br><span class="line">		-b t  空行不标，默认</span><br><span class="line">-n    列出行号的方式:</span><br><span class="line">		-n ln  屏幕最左显示</span><br><span class="line">		-n rn  自己字段最右显示，不加0</span><br><span class="line">		-n rz  自己字段最右显示，加0</span><br><span class="line">-w    行号字段的占用的字符数</span><br></pre></td></tr></table></figure>



<ul>
<li>more    一页一页的显示</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">操作键：</span><br><span class="line">	空格键     向下翻一页</span><br><span class="line">	Enter     向下翻一行</span><br><span class="line">	/字符串    向下搜索【字符串】</span><br><span class="line">	：f       立即显示文件名及目前显示的行数</span><br><span class="line">	q		  立刻离开more</span><br><span class="line">	b或[Ctrl]-b  往回翻页</span><br></pre></td></tr></table></figure>



<ul>
<li>less    与more类似，能往前翻页</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">空格键</span><br><span class="line">[Pagedown]</span><br><span class="line">[Pageup]</span><br><span class="line">/字符串</span><br><span class="line">？字符串</span><br><span class="line">n			重复前一个搜索（与/或？有关）</span><br><span class="line">N			反向n</span><br><span class="line">g			前进到资料的第一行</span><br><span class="line">G			到数据的最后一行</span><br><span class="line">q			</span><br></pre></td></tr></table></figure>



<ul>
<li>head    只看头几行</li>
</ul>
<p><code> head [-n number] 文件</code></p>
<ul>
<li>tail    只看尾巴几行</li>
</ul>
<ul>
<li>od    以二进制的方式读取文件内容</li>
</ul>
<p>// 告别手指抽筋的方向键</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ctrl + e // 光标回到行末</span><br><span class="line">ctrl + k // 删除光标处到行尾的字符</span><br><span class="line">ctrl + u // 删除命令行的整段命令</span><br><span class="line">ctrl + y // 恢复上一次删除内容</span><br></pre></td></tr></table></figure>



<h4 id="文件或指令的搜寻"><a href="#文件或指令的搜寻" class="headerlink" title="文件或指令的搜寻"></a>文件或指令的搜寻</h4><ol>
<li>脚本文件：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">which</span> [-a] <span class="built_in">command</span> </span><br><span class="line">-a    	所有能找到的均列出</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>文件档名：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">whereis [-bmsu] name</span><br><span class="line">-l		几个主要目录</span><br><span class="line">-b		只找binary格式的</span><br><span class="line">-m		只找在manual路径下的</span><br><span class="line">-s		只找<span class="built_in">source</span>来源文件</span><br><span class="line">-u		不在上面三个项目中的其他文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># locate/updatedb</span></span><br><span class="line">locate [-ir] keyword</span><br><span class="line">-i		忽略大小写</span><br><span class="line">-c		计算数量</span><br><span class="line">-l		输出几行</span><br><span class="line">-S		</span><br><span class="line">-r</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># find</span></span><br><span class="line">find [PATH] [option] [action]</span><br><span class="line"></span><br></pre></td></tr></table></figure>





</li>
</ol>
<h2 id="压缩相关"><a href="#压缩相关" class="headerlink" title="压缩相关"></a>压缩相关</h2><h4 id="1-常见压缩指令"><a href="#1-常见压缩指令" class="headerlink" title="1. 常见压缩指令"></a>1. 常见压缩指令</h4><p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567680848550.png" alt="1567680848550"></p>
<p>1.1 gzip,zcat/zmore/zless/zgrep:</p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567681046412.png" alt="1567681046412"></p>
<p><strong>note:</strong> 压缩后源文件不见。</p>
<p>zcat/zmore/zless相当于压缩版的cat/more/less</p>
<p>1.2 bzip2,bzcat/bzmore/bzless/bzgrep:(效果比gzip好)</p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567681484824.png" alt="1567681484824"></p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567681585662.png" alt="1567681585662"></p>
<p>1.3 xz,xzcat/xzmore/xzless/xzgrep</p>
<p>效果更好，时间更久。</p>
<p>1.4 打包指令 tar</p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567681942480.png" alt="1567681942480"></p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\1567681959310.png" alt="1567681959310"></p>
<p>tar -xvf name   –解压 POSIX tar archive (GNU)格式的文件</p>
<h2 id="screen常用命令："><a href="#screen常用命令：" class="headerlink" title="screen常用命令："></a>screen常用命令：</h2><h3 id="查看所有的会话"><a href="#查看所有的会话" class="headerlink" title="查看所有的会话"></a>查看所有的会话</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen -ls</span><br></pre></td></tr></table></figure>

<h3 id="创建一个会话"><a href="#创建一个会话" class="headerlink" title="创建一个会话"></a>创建一个会话</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen -S your_session_name</span><br></pre></td></tr></table></figure>

<h3 id="返回一个会话"><a href="#返回一个会话" class="headerlink" title="返回一个会话"></a>返回一个会话</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">screen</span> <span class="selector-tag">-r</span> <span class="selector-tag">session_name</span> </span><br></pre></td></tr></table></figure>

<h3 id="删除一个会话"><a href="#删除一个会话" class="headerlink" title="删除一个会话"></a>删除一个会话</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">screen -r session1 <span class="comment">#先返回到那个会话</span></span><br><span class="line"><span class="built_in">exit</span> <span class="comment">#输入exit,即可退出</span></span><br></pre></td></tr></table></figure>

<h3 id="返回一个已经掉线-attached-的会话"><a href="#返回一个已经掉线-attached-的会话" class="headerlink" title="返回一个已经掉线(attached)的会话"></a>返回一个已经掉线(attached)的会话</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#连接一个screen进程，如果该进程是attached，就先踢掉远端用户再连接</span></span><br><span class="line">screen -d -r session1</span><br><span class="line"></span><br><span class="line"><span class="comment">#连接一个screen进程，如果该进程是attached，就先踢掉远端用户并让他logout再连接</span></span><br><span class="line">screen -D -r session1 </span><br></pre></td></tr></table></figure>





<p>screen -S yourname -&gt; 新建一个叫yourname的session<br>screen -ls -&gt; 列出当前所有的session<br>screen -r yourname -&gt; 回到yourname这个session<br>screen -d yourname -&gt; 远程detach某个session<br>screen -d -r yourname -&gt; 结束当前session并回到yourname这个session</p>
<p>在每个screen session 下，所有命令都以 ctrl+a(C-a) 开始。<br>C-a ? -&gt; 显示所有键绑定信息<br>C-a c -&gt; 创建一个新的运行shell的窗口并切换到该窗口<br>C-a n -&gt; Next，切换到下一个 window<br>C-a p -&gt; Previous，切换到前一个 window<br>C-a 0..9 -&gt; 切换到第 0..9 个 window<br>Ctrl+a [Space] -&gt; 由视窗0循序切换到视窗9<br>C-a C-a -&gt; 在两个最近使用的 window 间切换<br>C-a x -&gt; 锁住当前的 window，需用用户密码解锁</p>
<p><strong>Ctrl a d -&gt; detach，暂时离开当前session，将目前的 screen session (可能含有多个 windows) 丢到后台执行，并会回到还没进 screen 时的状态，此时在 screen session 里，每个 window 内运行的 process (无论是前台/后台)都在继续执行，即使 logout 也不影响。</strong></p>
<p>C-a z -&gt; 把当前session放到后台执行，用 shell 的 fg 命令则可回去。<br>C-a w -&gt; 显示所有窗口列表<br>C-a t -&gt; Time，显示当前时间，和系统的 load<br>C-a k -&gt; kill window，强行关闭当前的 window<br>C-a [ -&gt; 进入 copy mode，在 copy mode 下可以回滚、搜索、复制就像用使用 vi 一样<br>C-b Backward，PageUp<br>C-f Forward，PageDown<br>H(大写) High，将光标移至左上角<br>L Low，将光标移至左下角<br>0 移到行首<br>$ 行末<br>w forward one word，以字为单位往前移<br>b backward one word，以字为单位往后移<br>Space 第一次按为标记区起点，第二次按为终点<br>Esc 结束 copy mode<br>C-a ] -&gt; Paste，把刚刚在 copy mode 选定的内容贴上</p>
<h3 id="ln的用法"><a href="#ln的用法" class="headerlink" title="ln的用法"></a>ln的用法</h3><p>即link，创建文件链接，有同步性，-s表示软链接，没有参数表示硬链接，即创造一个相同的文件。</p>
<p>使用方式 : <strong>ln [options]  source  dist</strong></p>
<h3 id="查看机械硬盘，挂载"><a href="#查看机械硬盘，挂载" class="headerlink" title="查看机械硬盘，挂载"></a>查看机械硬盘，挂载</h3><h1 id="Linux配置硬盘自动挂载"><a href="#Linux配置硬盘自动挂载" class="headerlink" title="Linux配置硬盘自动挂载"></a>Linux配置硬盘自动挂载</h1><p><strong>1、查看Linux硬盘信息：</strong></p>
<blockquote>
<p>sudo fdisk -l</p>
</blockquote>
<p><strong>2、格式化新硬盘（很危险，注意操作时确定硬盘分区的位置）：</strong></p>
<blockquote>
<p>sudo mkfs.ext4 /dev/sdb1 #新硬盘一般需要格式化才能挂载</p>
</blockquote>
<p><strong>3、创建/data目录（/data目录为硬盘将挂载的地方）：</strong></p>
<blockquote>
<p>sudo mkdir /data</p>
</blockquote>
<p><strong>4、挂载分区：</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mount /dev/sdb1 /data</span><br></pre></td></tr></table></figure>



<p><strong>5、查看磁盘分区的UUID</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo blkid</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">blkid的一些用法</span></span><br><span class="line">1、列出当前系统中所有已挂载文件系统的类型：</span><br><span class="line">sudo blkid</span><br><span class="line">2、显示指定设备 UUID：</span><br><span class="line">sudo blkid -s UUID /dev/sda5</span><br><span class="line">3、显示所有设备 UUID：</span><br><span class="line">sudo blkid -s UUID</span><br><span class="line">4、显示指定设备 LABEL：</span><br><span class="line">sudo blkid -s LABEL /dev/sda5</span><br><span class="line">5、显示所有设备 LABEL：</span><br><span class="line">sudo blkid -s LABEL</span><br><span class="line">6、显示所有设备文件系统：</span><br><span class="line">sudo blkid -s TYPE</span><br><span class="line">7、显示所有设备：</span><br><span class="line">sudo blkid -o device</span><br><span class="line">8、以列表方式查看详细信息：</span><br><span class="line">sudo blkid -o list</span><br></pre></td></tr></table></figure>



<blockquote>
<p>/dev/sda1: UUID=”<strong>8048997a-16c9-447b-a209-82e4d380326e</strong>“ TYPE=”<strong>ext4</strong>“<br>/dev/sda5: UUID=”<strong>0c5f073a-ad3f-414f-85c2-4af83f6a437f</strong>“ TYPE=”<strong>swap</strong>“<br>/dev/sdb1: UUID=”<strong>11263962-9715-473f-9421-0b604e895aaa</strong>“ TYPE=”<strong>ext4</strong>“<br>/dev/sr0: LABEL=”Join Me” TYPE=”iso9660”</p>
</blockquote>
<p><strong>6、配置开机自动挂载：</strong><br>因为mount命令会在重启服务器后失效，所以要将分区信息写到/etc/fstab文件中让它永久挂载：</p>
<blockquote>
<p>sudo vim /etc/fstab</p>
</blockquote>
<p>加入：</p>
<blockquote>
<p>UUID=11263962-9715-473f-9421-0b604e895aaa /data ext4 defaults 0 1</p>
</blockquote>
<blockquote>
<p><fs spec> <fs file> <fs vfstype> <fs mntops> <fs freq> <fs passno><br>具体说明，以挂载/dev/sdb1为例：<br><fs spec>：分区定位，可以给UUID或LABEL，例如：UUID=6E9ADAC29ADA85CD或LABEL=software<br><fs file>：具体挂载点的位置，例如：/data<br><fs vfstype>：挂载磁盘类型，linux分区一般为ext4，windows分区一般为ntfs<br><fs mntops>：挂载参数，一般为defaults<br><fs freq>：磁盘检查，默认为0<br><fs passno>：磁盘检查，默认为0，不需要检查</p>
</blockquote>
<p><strong>7、重启系统</strong></p>
<p>修改完/etc/fstab文件后，运行</p>
<blockquote>
<p>sudo mount -a</p>
</blockquote>
<p>命令验证一下配置是否正确。如果配置不正确可能会导致系统无法正常启动。</p>
<p><strong>8、真实的例子</strong></p>
<blockquote>
<p>UUID=42168DE83BC5EDAD /media/jim/Files2 ntfs defaults 0 1</p>
</blockquote>
<p>说明：/media/jim/Files2为当前挂载的位置，不是/dev/sda1。</p>
<p><strong>9、/etc/fstab文件样例</strong></p>
<blockquote>
<p>/etc/fstab: static file system information.<br>Use ‘blkid’ to print the universally unique identifier for a # device; this may be used with UUID= as a more<br>robust way to name devices # that works even if disks are added and removed. See fstab(5).<br><file system> <mount point> <type> <options> <dump> <pass><br>/ was on /dev/sda5 during installation<br>UUID=becf80d6-c599-4fdb-9771-eb198a3125ac / ext4 errors=remount-ro 0 1<br>UUID=42168DE83BC5EDAD /media/jim/Files2 ntfs defaults 0 1</pre></p>
</blockquote>
<p>说明：如果修改这个文件导致系统挂了，可以使用Ubuntu的Live CD功能（即Try Ubuntu…）进入系统来修改回这个文件。</p>
<h3 id="创建Swap分区："><a href="#创建Swap分区：" class="headerlink" title="创建Swap分区："></a>创建Swap分区：</h3><p><strong>一、传统创建方式</strong></p>
<p>一般情况下，我们都会使用dd命令来预先创建交换分区文件，然后再用/dev/zero将该文件的内容全部置零，创建时还将用到bs参数来设置要创建的交换空间大小，以及使用count来指定要创建的block数。</p>
<p>例如，我们要创建4G的交换分区文件可以使用如下命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;swapfile bs&#x3D;1G count&#x3D;4</span><br></pre></td></tr></table></figure>

<p><strong>二、快速创建方式</strong></p>
<p>你可能已经注意到了，上述方式创建Swap交换文件的过程比较慢，如果想快速创建交换分区可以使用fallocate程序来实现。该命令会立即创建一个预分配的交换文件，而产是按实际大小写入分配的大小。</p>
<p>如果同样是要创建4G大小的交换创建文件，快捷创建方式的命令如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo fallocate -l 4G &#x2F;swapfile</span><br></pre></td></tr></table></figure>

<p><strong>三、启用Swap分区文件</strong></p>
<p>我们的swapfile交换文件已经创建好了，但Ubuntu还不知道它是被用作交换分区，所以我们还需要将此文件格式化为Swap分区交启用它。</p>
<p>1、首先，我们需要使用如下命令更改下swapfile文件的权限：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo chmod 600 &#x2F;swapfile</span><br></pre></td></tr></table></figure>

<p>2、然后，我们需要用如下将swapfile初始化为交换文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkswap &#x2F;swapfile</span><br></pre></td></tr></table></figure>

<p>3、最后，还需要使用如下命令来启用交换文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo swapon &#x2F;swapfile</span><br></pre></td></tr></table></figure>

<p>5、查看结果</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">free -m</span><br></pre></td></tr></table></figure>

<p>6、配置启用时挂载Swap分区文件</p>
<p>Swap交换文件虽然已经配置好并已经启用了，但Ubuntu在重启后是不会挂载我们刚创建的交换分区文件的，因此我们还需要对/etc/fstab文件进行更改，让其在系统启动时就自动挂载我们创建的/swapfile文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure>

<p>添加如下内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;swapfile none swap sw 0 0</span><br></pre></td></tr></table></figure>

<p>提示：按【Esc】后输入：”:wq!”退出。</p>
<p>7、卸载Swap分区</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo swapoff &#x2F;swapfile</span><br></pre></td></tr></table></figure>

<h3 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h3><p>66 软件位置：/home/daniel/software/frp_0.21.0_linux_amd64</p>
<p><code>./frpc -c frpc.ini</code></p>
<h3 id="用wget下载google云盘的文件"><a href="#用wget下载google云盘的文件" class="headerlink" title="用wget下载google云盘的文件"></a>用wget下载google云盘的文件</h3><p><a target="_blank" rel="noopener" href="https://drive.google.com/open?id=1HF-hNFPvLrHwI5O7YvYKZWTeTxC5Mg1K">https://drive.google.com/open?id=1HF-hNFPvLrHwI5O7YvYKZWTeTxC5Mg1K</a></p>
<p><a target="_blank" rel="noopener" href="https://drive.google.com/uc?id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&amp;export=download">https://drive.google.com/uc?id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&amp;export=download</a></p>
<p>wget -c –load-cookies /tmp/cookies.txt “<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;confirm=$">https://docs.google.com/uc?export=download&amp;confirm=$</a>(wget –quiet –save-cookies /tmp/cookies.txt –keep-session-cookies –no-check-certificate ‘<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&amp;export=download&#39;">https://docs.google.com/uc?export=download&amp;id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&amp;export=download&#39;</a> -O- | sed -rn ‘s/.<em>confirm=([0-9A-Za-z_]+).</em>/\1\n/p’)&amp;id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&amp;export=download” -O youcook.tar.gz &amp;&amp; rm -rf /tmp/cookies.txt</p>
<p>wget –load-cookies /tmp/cookies.txt “<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;confirm=$">https://docs.google.com/uc?export=download&amp;confirm=$</a>(wget –quiet –save-cookies /tmp/cookies.txt –keep-session-cookies –no-check-certificate ‘<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&#39;">https://docs.google.com/uc?export=download&amp;id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN&#39;</a> -O- | sed -rn ‘s/.<em>confirm=([0-9A-Za-z_]+).</em>/\1\n/p’)&amp;id=1t6FThoxkJ-sVyyf4opVHaEWuQ_UCgmmN” -O raw_videos_all.tar.gz &amp;&amp; rm -rf /tmp/cookies.txt</p>
<p>此处的文件是指公开的文件，不需要输入密码也不需要登录Google drive即可获取的文件。</p>
<ol>
<li>下载小文件<br> wget –no-check-certificate ‘<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;id=1_oyJ5rQiZboipbMl6tkhY8v0s9zDkvJc%E2%80%99">https://docs.google.com/uc?export=download&amp;id=1_oyJ5rQiZboipbMl6tkhY8v0s9zDkvJc’</a> -O didemo1</li>
</ol>
<p>替换对应的FILEID即可，FILENAME自己命名。<br>FILEID是Google drive公开分享的链接中ID后面的，例如：</p>
<p><a target="_blank" rel="noopener" href="https://drive.google.com/open?id=ThisIsFileID">https://drive.google.com/open?id=ThisIsFileID</a></p>
<p>如果下载中断了，想要继续下载，可以在wget后面添加 -c 参数</p>
<ol start="2">
<li>下载大文件<br> 因为Google drive的大文件，无法通过安全查杀</li>
</ol>
<p>wget –load-cookies /tmp/cookies.txt “<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;confirm=$">https://docs.google.com/uc?export=download&amp;confirm=$</a>(wget –quiet –save-cookies /tmp/cookies.txt –keep-session-cookies –no-check-certificate ‘<a target="_blank" rel="noopener" href="https://docs.google.com/uc?export=download&amp;id=FILEID&#39;">https://docs.google.com/uc?export=download&amp;id=FILEID&#39;</a> -O- | sed -rn ‘s/.<em>confirm=([0-9A-Za-z_]+).</em>/\1\n/p’)&amp;id=FILEID” -O FILENAME &amp;&amp; rm -rf /tmp/cookies.txt<br>1<br>同样替换其中的FILEID和FILENAME即可。注意FILEID有两处。</p>
<p><a target="_blank" rel="noopener" href="https://storage.googleapis.com/drive-bulk-export-anonymous/20190922T091616Z/4133399871716478688/3e2a6921-4cd9-4ba6-9866-d5f6fd5380f1/1/d3c8eb93-d24c-42fe-bd64-ebd66c215e64?authuser">https://storage.googleapis.com/drive-bulk-export-anonymous/20190922T091616Z/4133399871716478688/3e2a6921-4cd9-4ba6-9866-d5f6fd5380f1/1/d3c8eb93-d24c-42fe-bd64-ebd66c215e64?authuser</a></p>
<p><a target="_blank" rel="noopener" href="https://drive.google.com/open?id=1vOKbUdf94QOITlU14Gc1xwISYhDXdi6m">https://drive.google.com/open?id=1vOKbUdf94QOITlU14Gc1xwISYhDXdi6m</a></p>
<p><a target="_blank" rel="noopener" href="https://console.developers.google.com/apis/api/drive.googleapis.com/overview?project=polished-parser-286711">https://console.developers.google.com/apis/api/drive.googleapis.com/overview?project=polished-parser-286711</a></p>
<h1 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a>网络相关</h1><h3 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h3><p>能ping通网关，但无法ping通外网ip和域名，显示如下错误：</p>
<p>connect: Network is unreachable</p>
<p>或者：Name or service not known</p>
<ol>
<li>先检查dns是否配置，两个文件：</li>
</ol>
<p>/etc/resolv.conf，/etc/network/interfaces</p>
<ol start="2">
<li><p>重启网络服务：（第二行）</p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\image-20211007153803186.png" alt="image-20211007153803186"></p>
</li>
<li><p>不行的话查看网关，如果不正常就添加网关：</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">route add default  gw 网关ip</span><br></pre></td></tr></table></figure>

<h1 id="安装cuda"><a href="#安装cuda" class="headerlink" title="安装cuda"></a>安装cuda</h1><p>1.安装驱动</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查看可用驱动信息</span></span><br><span class="line">ubuntu-drivers devices</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 输出：</span></span><br><span class="line">== /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0 ==</span><br><span class="line">modalias : pci:v000010DEd00001F95sv00001028sd0000097Dbc03sc02i00</span><br><span class="line">vendor   : NVIDIA Corporation</span><br><span class="line">model    : TU117M [GeForce GTX 1650 Ti Mobile]</span><br><span class="line">driver   : nvidia-driver-440 - distro non-free recommended</span><br><span class="line">driver   : xserver-xorg-video-nouveau - distro free builtin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">安装推荐的驱动</span></span><br><span class="line">sudo apt install nvidia-driver-440</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装完重启</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="1-更换cuda版本，导致驱动不对应"><a href="#1-更换cuda版本，导致驱动不对应" class="headerlink" title="1 . 更换cuda版本，导致驱动不对应"></a>1 . 更换cuda版本，导致驱动不对应</h3><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\image-20201207104514204.png" alt="image-20201207104514204" style="zoom:67%;" />

<h3 id="1-查看可用的驱动版本"><a href="#1-查看可用的驱动版本" class="headerlink" title="1. 查看可用的驱动版本"></a>1. 查看可用的驱动版本</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ubuntu-drivers devices</span><br></pre></td></tr></table></figure>

<h3 id="2-查找本机内核版本"><a href="#2-查找本机内核版本" class="headerlink" title="2. 查找本机内核版本"></a>2. 查找本机内核版本</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &#x2F;proc&#x2F;driver&#x2F;nvidia&#x2F;version</span><br></pre></td></tr></table></figure>

<h3 id="3-安装对应版本并重启"><a href="#3-安装对应版本并重启" class="headerlink" title="3. 安装对应版本并重启"></a>3. 安装对应版本并重启</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install nvidia-driver-415 nvidia-settings nvidia-prime</span><br></pre></td></tr></table></figure>





<h2 id="重启后cuda没了"><a href="#重启后cuda没了" class="headerlink" title="重启后cuda没了"></a>重启后cuda没了</h2><p><img src="https://raw.githubusercontent.com/zqlearning/img/master/PicGo/20210126205241.png" alt="image-20210126205232071"></p>
<p>先查看nvidia版本：</p>
<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\image-20210126205411262.png" alt="image-20210126205411262"></p>
<p>利用dkms工具包，没有则先安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install dkms #DKMS全称是Dynamic Kernel Module Support，它可以帮我们维护内核外的这些驱动程序，在内核版本变动之后可以自动重新生成新的模块。</span><br><span class="line">sudo dkms install -m nvidia -v 410.78 #410.78是安装驱动的版本</span><br></pre></td></tr></table></figure>



<p><img src="C:\Users\郑琪\AppData\Roaming\Typora\typora-user-images\image-20210126205525239.png" alt="image-20210126205525239"></p>
<h1 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h1><h3 id="生成密钥"><a href="#生成密钥" class="headerlink" title="生成密钥"></a>生成密钥</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096</span><br><span class="line">ssh-copy-id your-user-name-on-host@host-ip-goes-here</span><br><span class="line">&#x2F;etc&#x2F;ssh&#x2F;sshd_config  #一些配置文件</span><br></pre></td></tr></table></figure>

<h3 id="密钥拷贝（免密登陆）"><a href="#密钥拷贝（免密登陆）" class="headerlink" title="密钥拷贝（免密登陆）"></a>密钥拷贝（免密登陆）</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#前提条件，用户目录下的相关文件需要在相应的权限下</span><br><span class="line">chmod 700 .ssh</span><br><span class="line">sudo chmod 640 .ssh&#x2F;authorized_keys</span><br><span class="line">sudo chown $USER .ssh</span><br><span class="line">sudo chown $USER .ssh&#x2F;authorized_keys</span><br><span class="line"># $USER需替换为用户名 </span><br><span class="line"></span><br><span class="line">ssh-copy-id your-user-name-on-host@host-fqdn-or-ip-goes-here</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-3-修改ssh配置"><a href="#2-3-修改ssh配置" class="headerlink" title="2.3 修改ssh配置"></a>2.3 修改ssh配置</h4><p>编辑远程服务器上的<code>sshd_config</code>文件：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">vi /etc/ssh/sshd_config</span></span><br></pre></td></tr></table></figure>

<p>找到如下选项并修改(通常情况下，前两项默认为no，地三项如果与此处不符，以此处为准)：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启用密钥验证</span></span><br><span class="line">RSAAuthentication yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line"><span class="meta">#</span><span class="bash">指定公钥数据库文件</span></span><br><span class="line">AuthorsizedKeysFile.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<p>编辑保存完成后，重启ssh服务使得新配置生效：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> systemctl restart sshd.service</span></span><br></pre></td></tr></table></figure>

<p>此时，就可以通过ssh命令免除密码直接登录远程主机了，在本地命令行控制台输入：</p>
<h3 id="远程登录"><a href="#远程登录" class="headerlink" title="远程登录"></a>远程登录</h3><p>假定你要以用户名user，登录远程主机host，只要一条简单命令就可以了。<br>　　$ ssh user@host 如：ssh <a href="mailto:pika@192.168.0.111">pika@192.168.0.111</a><br>如果本地用户名与远程用户名一致，登录时可以省略用户名。<br>　　$ ssh host<br>SSH的默认端口是22，也就是说，你的登录请求会送进远程主机的22端口。使用p参数，可以修改这个端口。<br>　　$ ssh -p 2222 user@host<br>上面这条命令表示，ssh直接连接远程主机的2222端口。</p>
<h3 id="远程操作"><a href="#远程操作" class="headerlink" title="远程操作"></a>远程操作</h3><p>1、上传本地文件到服务器</p>
<p><code>scp /path/filename username@servername:/path/</code><br>例如<code>scp /var/www/test.php root@192.168.0.101:/var/www/</code> 把本机/var/www/目录下的test.php文件上传到192.168.0.101这台服务器上的/var/www/目录中</p>
<p>2、从服务器上下载文件</p>
<p>下载文件我们经常使用wget，但是如果没有http服务，如何从服务器上下载文件呢？</p>
<p><code>scp username@servername:/path/filename /var/www/local_dir（本地目录）</code><br>例如<code>scp root@192.168.0.101:/var/www/test.txt </code>把192.168.0.101上的/var/www/test.txt 的文件下载到/var/www/local_dir（本地目录）</p>
<p>3、从服务器下载整个目录</p>
<p><code>scp -r username@servername:/var/www/remote_dir/（远程目录） /var/www/local_dir（本地目录）</code><br>例如:<code>scp -r root@192.168.0.101:/var/www/test  /var/www/</code></p>
<p>4、上传目录到服务器</p>
<p><code>scp -r local_dir username@servername:remote_dir</code><br>例如：<code>scp -r test root@192.168.0.101:/var/www/</code> 把当前目录下的test目录上传到服务器的/var/www/ 目录</p>
<h3 id="两台服务器的文件操作"><a href="#两台服务器的文件操作" class="headerlink" title="两台服务器的文件操作"></a>两台服务器的文件操作</h3><p>首先两台服务器必须是可以ping通的<br>例：<br>ping 10.22.137.10<br>ping通之后：<br>1、复制文件<br>格式：<br>scp 目录/文件名.文件格式 目标服务器用户名@ip地址：目标服务器目录<br>例：</p>
<p>scp /backup/test/md3/export.sh <a href="mailto:&#x69;&#x61;&#105;&#110;&#115;&#x74;&#x31;&#x31;&#64;&#49;&#x30;&#x2e;&#x32;&#x32;&#46;&#x31;&#51;&#x37;&#46;&#49;&#x31;">&#x69;&#x61;&#105;&#110;&#115;&#x74;&#x31;&#x31;&#64;&#49;&#x30;&#x2e;&#x32;&#x32;&#46;&#x31;&#51;&#x37;&#46;&#49;&#x31;</a>:/ssx/dev/md<br>1<br>2、复制目录（包括目录下的文件）</p>
<p>scp -r /backup/test/md3  <a href="mailto:&#105;&#x61;&#x69;&#110;&#115;&#116;&#49;&#49;&#x40;&#x31;&#48;&#46;&#50;&#x32;&#46;&#x31;&#51;&#x37;&#46;&#49;&#49;">&#105;&#x61;&#x69;&#110;&#115;&#116;&#49;&#49;&#x40;&#x31;&#48;&#46;&#50;&#x32;&#46;&#x31;&#51;&#x37;&#46;&#49;&#49;</a>:/ssx/dev/md</p>
<hr>
<h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo useradd -m -s /bin/bash -d /home/username username</span><br><span class="line">sudo passwd username #密码设置</span><br><span class="line">sudo vi /etc/sudoers #添加sudo权限</span><br><span class="line"></span><br><span class="line">userdel -r username  # 删除用户及主目录</span><br></pre></td></tr></table></figure>



<h1 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h1><p><strong>1. find</strong></p>
<p>find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件。</p>
<p>find的使用格式如下：</p>
<p>　　<strong>$ find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;</strong></p>
<p>　　- &lt;指定目录&gt;： 所要搜索的目录及其所有子目录。默认为当前目录。</p>
<p>　　- &lt;指定条件&gt;： 所要搜索的文件的特征。</p>
<p>　　- &lt;指定动作&gt;： 对搜索结果进行特定的处理。</p>
<p>如果什么参数也不加，find默认搜索当前目录及其子目录，并且不过滤任何结果（也就是返回所有文件），将它们全都显示在屏幕上。</p>
<p>find的使用实例：</p>
<p>　　<strong>$ find . -name ‘my*‘</strong></p>
<p>搜索当前目录（含子目录，以下同）中，所有文件名以my开头的文件。</p>
<p>　　<strong>$ find . -name ‘my*‘ -ls</strong></p>
<p>搜索当前目录中，所有文件名以my开头的文件，并显示它们的详细信息。</p>
<p>　　<strong>$ find . -type f -mmin -10</strong></p>
<p>搜索当前目录中，所有过去10分钟中更新过的普通文件。如果不加-type f参数，则搜索普通文件+特殊文件+目录。</p>
<p><strong>2. locate</strong></p>
<p>locate命令其实是”find -name”的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是搜索一个数据库（/var/lib/locatedb），这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用<strong>updatedb</strong>命令，手动更新数据库。</p>
<p>locate命令的使用实例：</p>
<p>　　<strong>$ locate /etc/sh</strong></p>
<p>搜索etc目录下所有以sh开头的文件。</p>
<p>　　<strong>$ locate ~/m</strong></p>
<p>搜索用户主目录下，所有以m开头的文件。</p>
<p>　　<strong>$ locate -i ~/m</strong></p>
<p>搜索用户主目录下，所有以m开头的文件，并且忽略大小写。</p>
<p><strong>3. whereis</strong></p>
<p>whereis命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。</p>
<p>whereis命令的使用实例：</p>
<p>　　<strong>$ whereis grep</strong></p>
<p><strong>4. which</strong></p>
<p>which命令的作用是，在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</p>
<p>which命令的使用实例：</p>
<p>　　<strong>$ which grep</strong></p>
<p><strong>5. type</strong></p>
<p>type命令其实不能算查找命令，它是用来区分某个命令到底是由shell自带的，还是由shell外部的独立二进制文件提供的。如果一个命令是外部命令，那么使用-p参数，会显示该命令的路径，相当于which命令。</p>
<p>type命令的使用实例：</p>
<p>　　<strong>$ type cd</strong></p>
<p>系统会提示，cd是shell的自带命令（build-in）。</p>
<p>　　<strong>$ type grep</strong></p>
<p>系统会提示，grep是一个外部命令，并显示该命令的路径。</p>
<p>　　<strong>$ type -p grep</strong></p>
<p>加上-p参数后，就相当于which命令。</p>
<h1 id="google-drive-命令行工具gdrive安装与使用"><a href="#google-drive-命令行工具gdrive安装与使用" class="headerlink" title="google drive 命令行工具gdrive安装与使用"></a>google drive 命令行工具gdrive安装与使用</h1><h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h2><p>更多命令查看<a target="_blank" rel="noopener" href="https://github.com/prasmussen/gdrive">官方仓库</a></p>
<p>linux系统</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget https://docs.google.com/uc?id=0B3X9GlR6EmbnWksyTEtCM0VfaFE&amp;export=download</span><br><span class="line">mv uc\?id\=0B3X9GlR6EmbnWksyTEtCM0VfaFE gdrive</span><br><span class="line">chmod +x gdrive</span><br><span class="line">sudo install gdrive /usr/local/bin/gdrive</span><br></pre></td></tr></table></figure>

<h2 id="2-gdrive配置"><a href="#2-gdrive配置" class="headerlink" title="2.gdrive配置"></a>2.gdrive配置</h2><p>初次使用gdrive命令，会被引导进行授权配置，使用的是Oauth协议</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ gdrive list</span><br><span class="line">Authentication needed</span><br><span class="line">Go to the following url in your browser:</span><br><span class="line">https:&#x2F;&#x2F;accounts.google.com&#x2F;o&#x2F;oauth2&#x2F;auth?access_type&#x3D;offline&amp;client_id&#x3D;367116221053-7n0vf5akeru7on6o2fjinrecpdoe99eg.apps.googleusercontent.com&amp;redirect_uri&#x3D;urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob&amp;response_type&#x3D;code&amp;scope&#x3D;https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive&amp;state&#x3D;state</span><br><span class="line"></span><br><span class="line">Enter verification code:</span><br></pre></td></tr></table></figure>

<p>即是要求使用者账户给予gdrive授权，在浏览器中打开上述连接，根据引导获得授权auth_token，复制到命令行界面。</p>
<p>完成此操作后可在用户Home下发现.gdrive目录，其中token_v2.json文件保存了用户的auth_token信息，这是一个Oauth2的授权。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">drwx------  4.0K Jun 15 15:40 ./</span><br><span class="line">drwxr-xr-x  4.0K Jun 15 15:40 ../</span><br><span class="line">-rw-------   298 Jun 15 15:29 token_v2.json</span><br></pre></td></tr></table></figure>

<p>默认情况下gdrive命令会使用用户目录下的.gdrive授权，同时可以在命令中通过以下参数提供授权凭据，以下全文通过[global]标识：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-c, --config &lt;configDir&gt;         Application path, default: /Users/&lt;user&gt;/.gdrive</span><br><span class="line">--refresh-token &lt;refreshToken&gt;   Oauth refresh token used to get access token (for advanced users)</span><br><span class="line">--access-token &lt;accessToken&gt;     Oauth access token, only recommended for short-lived requests because of short lifetime (for advanced users)</span><br><span class="line">--service-account &lt;accountFile&gt;  Oauth service account filename, used for server to server communication without user interaction (file is relative to config dir)</span><br></pre></td></tr></table></figure>

<p>多用户使用时，保持<code>~/.gdrive/</code>目录干净，新建目录，把生成的文件放到自己建的目录下，使用时增加<code>-c</code>参数</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gdrive -c ~/.gdrive/new_file 命令 [options]</span><br></pre></td></tr></table></figure>



<h2 id="3-gdrive常用命令"><a href="#3-gdrive常用命令" class="headerlink" title="3.gdrive常用命令"></a>3.gdrive常用命令</h2><h3 id="目录列举"><a href="#目录列举" class="headerlink" title="目录列举"></a>目录列举</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] list [options]</span><br><span class="line"></span><br><span class="line">options:</span><br><span class="line">  -m, --max &lt;maxFiles&gt;       最大显示文件数: 30</span><br><span class="line">  -q, --query &lt;query&gt;        过滤命令，默认为: &quot;trashed &#x3D; false and &#39;me&#39; in owners&quot;. 查看https:&#x2F;&#x2F;developers.google.com&#x2F;drive&#x2F;search-parameters</span><br><span class="line">  --order &lt;sortOrder&gt;        排序. 查看See https:&#x2F;&#x2F;godoc.org&#x2F;google.golang.org&#x2F;api&#x2F;drive&#x2F;v3#FilesListCall.OrderBy</span><br><span class="line">  --name-width &lt;nameWidth&gt;   文件显示字符宽度, 默认: 40, 最小: 9, 可使用 0 表示显示全部 full width</span><br><span class="line">  --absolute                 Show absolute path to file (will only show path from first parent)</span><br><span class="line">  --no-header                Dont print the header</span><br><span class="line">  --bytes                    Size in bytes</span><br></pre></td></tr></table></figure>

<h3 id="文件或目录下载"><a href="#文件或目录下载" class="headerlink" title="文件或目录下载"></a>文件或目录下载</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">普通下载</span></span><br><span class="line">gdrive [global] download [options] &lt;fileId&gt; </span><br><span class="line"><span class="meta">#</span><span class="bash">根据是否匹配下载</span></span><br><span class="line">gdrive [global] download query [options] &lt;query&gt; </span><br><span class="line">options:</span><br><span class="line">  -f, --force       覆盖本地同名文件</span><br><span class="line">  -r, --recursive   下载目录及其子目录，documents will be skipped</span><br><span class="line">  --path &lt;path&gt;     下载路径</span><br><span class="line">  --no-progress     隐藏下载进度</span><br></pre></td></tr></table></figure>

<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] upload [options] &lt;path&gt;</span><br><span class="line"></span><br><span class="line">options:</span><br><span class="line">  -r, --recursive               上传目录及其子目录</span><br><span class="line">  -p, --parent &lt;parent&gt;         父目录id，可以指定多个父目录</span><br><span class="line">  --name &lt;name&gt;                 保存文件名</span><br><span class="line">  --description &lt;description&gt;   文件描述</span><br><span class="line">  --no-progress                 隐藏上传进度</span><br><span class="line">  --mime &lt;mime&gt;                 强制mime</span><br><span class="line">  --share                       公开分享文件</span><br><span class="line">  --delete                      上传完成后删除本地文件</span><br><span class="line">  --timeout &lt;timeout&gt;           超时时间，0为永不超时，默认为300</span><br><span class="line">  --chunksize &lt;chunksize&gt;       上传分片大小，默认为: 8388608</span><br></pre></td></tr></table></figure>

<h3 id="通过标准输入上传文件"><a href="#通过标准输入上传文件" class="headerlink" title="通过标准输入上传文件"></a>通过标准输入上传文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] upload - [options] &lt;name&gt;</span><br><span class="line"> </span><br><span class="line">options:</span><br><span class="line">  -p, --parent &lt;parent&gt;         父目录id，可以指定多个父目录</span><br><span class="line">  --chunksize &lt;chunksize&gt;       上传分片大小，默认为: 8388608</span><br><span class="line">  --description &lt;description&gt;   文件描述</span><br><span class="line">  --mime &lt;mime&gt;                 强制mime</span><br><span class="line">  --share                       公开分享文件</span><br><span class="line">  --timeout &lt;timeout&gt;           超时时间，0为永不超时，默认为300</span><br><span class="line">  --no-progress                 隐藏上传进度</span><br></pre></td></tr></table></figure>

<h3 id="更新文件，将产生文件的一个新版本"><a href="#更新文件，将产生文件的一个新版本" class="headerlink" title="更新文件，将产生文件的一个新版本"></a>更新文件，将产生文件的一个新版本</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] update [options] &lt;fileId&gt; &lt;path&gt;</span><br><span class="line">options:</span><br><span class="line">  -p, --parent &lt;parent&gt;         父目录id，可以指定多个父目录</span><br><span class="line">  --chunksize &lt;chunksize&gt;       上传分片大小，默认为: 8388608</span><br><span class="line">  --description &lt;description&gt;   文件描述</span><br><span class="line">  --mime &lt;mime&gt;                 强制mime</span><br><span class="line">  --share                       公开分享文件</span><br><span class="line">  --timeout &lt;timeout&gt;           超时时间，0为永不超时，默认为300</span><br><span class="line">  --no-progress                 隐藏上传进度</span><br><span class="line">&#x2F;&#x2F; fileId可通过上传时的响应获得</span><br></pre></td></tr></table></figure>

<h3 id="分享文件或目录"><a href="#分享文件或目录" class="headerlink" title="分享文件或目录"></a>分享文件或目录</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] share [options] &lt;fileId&gt;</span><br><span class="line"></span><br><span class="line">options:</span><br><span class="line">  --role &lt;role&gt;     权限: owner&#x2F;writer&#x2F;commenter&#x2F;reader, 默认: reader</span><br><span class="line">  --type &lt;type&gt;     分享范围: user&#x2F;group&#x2F;domain&#x2F;anyone, 默认: anyone</span><br><span class="line">  --email &lt;email&gt;   分享给指定组或用户，需要设置type为&#39;user&#39;或 &#39;group&#39; </span><br><span class="line">  --discoverable    允许搜索引擎搜索</span><br><span class="line">  --revoke          回收其他权限（owner权限不回收）</span><br></pre></td></tr></table></figure>

<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] delete [options] &lt;fileId&gt;</span><br><span class="line"></span><br><span class="line">options:</span><br><span class="line">  -r, --recursive   Delete directory and all it&#39;s content</span><br></pre></td></tr></table></figure>

<h3 id="同步本地文件夹到drive"><a href="#同步本地文件夹到drive" class="headerlink" title="同步本地文件夹到drive"></a>同步本地文件夹到drive</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] sync upload [options] &lt;path&gt; &lt;fileId&gt;</span><br><span class="line"></span><br><span class="line">options:</span><br><span class="line">  --keep-remote             发生冲突时保留服务端文件</span><br><span class="line">  --keep-local              发生冲突时保留本地文件</span><br><span class="line">  --keep-largest            发生冲突时保留最大文件</span><br><span class="line">  --delete-extraneous       删除服务端其他文件</span><br><span class="line">  --dry-run                 Show what would have been transferred</span><br><span class="line">  --no-progress             Hide progress</span><br><span class="line">  --timeout &lt;timeout&gt;           超时时间，0为永不超时，默认为300</span><br><span class="line">  --chunksize &lt;chunksize&gt;       上传分片大小，默认为: 8388608</span><br></pre></td></tr></table></figure>

<h3 id="下载指定版本文件"><a href="#下载指定版本文件" class="headerlink" title="下载指定版本文件"></a>下载指定版本文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] revision download [options] &lt;fileId&gt; &lt;revId&gt;</span><br><span class="line"></span><br><span class="line">options:</span><br><span class="line">  -f, --force           覆盖本地文件</span><br><span class="line">  --no-progress         隐藏进度条</span><br><span class="line">  --stdout              输出到标准输出</span><br><span class="line">  --path &lt;path&gt;         下载路径</span><br><span class="line">  --timeout &lt;timeout&gt;   Set timeout in seconds, use 0 for no timeout. Timeout is reached when no data is transferred in set amount of seconds, default: 300</span><br></pre></td></tr></table></figure>

<h3 id="删除指定文件指定版本"><a href="#删除指定文件指定版本" class="headerlink" title="删除指定文件指定版本"></a>删除指定文件指定版本</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gdrive [global] revision delete &lt;fileId&gt; &lt;revId&gt;</span><br></pre></td></tr></table></figure>

<h3 id="一些使用🌰"><a href="#一些使用🌰" class="headerlink" title="一些使用🌰"></a>一些使用🌰</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">背景描述：需要定时从数据库导出数据给需求方，从安全性角度考虑，不建议从线下环境直接操作数据库连接读取数据，因此只能将数据导出到线上服务器数据文件中，但线上数据文件分享给用户往往需要经过多次文件复制。这里的策略是将数据上传到公司账户Google Drive，然后分享给指定用户或组。</span><br><span class="line"></span><br><span class="line">这里数据文件保存在&#x2F;tmp&#x2F;data.xlsx中，数据需求方为pm@shopee.com，测试人员为qa@shopee.com。公司账户已通过上述方式配置</span><br></pre></td></tr></table></figure>

<p>操作过程如下，请注意命令的输入及输出</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ gdrive mkdir exports</span><br><span class="line">Directory 1IXMJ5_TBjjN_2m-rd_HaLeIX3Ch7BLOE created</span><br><span class="line"></span><br><span class="line">$ gdrive upload -p 1IXMJ5_TBjjN_2m-rd_HaLeIX3Ch7BLOE --name data.xlsx &#x2F;tmp&#x2F;data.xlsx</span><br><span class="line">Uploading data.xlsx</span><br><span class="line">Uploaded 1a-bGQqHQt8XIOaEemAQQJCiRTEFe75kK at 12.7 MB&#x2F;s, total 31.5 MB</span><br><span class="line"></span><br><span class="line">$ gdrive share --type user --email pm@shopee.com,qa@shopee.com</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; crontab 任务</span><br><span class="line">$ crontab -l</span><br><span class="line">0 3 * * * cd ~&#x2F;auto; &#x2F;* 数据导出命令 *&#x2F; &amp;&amp; gdrive update 1a-bGQqHQt8XIOaEemAQQJCiRTEFe75kK &#x2F;tmp&#x2F;data.xlsx; gdrive share --type user --email pm@shopee.com 1a-bGQqHQt8XIOaEemAQQJCiRTEFe75kK; gdrive share --type user --email qa@shopee.com 1a-bGQqHQt8XIOaEemAQQJCiRTEFe75kK;</span><br></pre></td></tr></table></figure>



<h1 id="rsync"><a href="#rsync" class="headerlink" title="rsync"></a>rsync</h1><p><strong>rsync特征</strong></p>
<p><strong>速度：</strong>第一次的rsync同步源的整个内容目录到目标位置。之后，rsync只传递改变的块或字节到目标位置，使传输非常快。<br><strong>安全：</strong>rsync在传输中允许使用ssh协议加密数据。<br><strong>更少的带宽：</strong>rsync分别在发送和接收端对数据进行压缩和解压缩。所以在使用rsync传输数据时使用的带宽总是比使用其他文件传输协议来的少。<br><strong>特权：</strong>不需要特殊权限来安装和执行rsync</p>
<p><strong>rsync语法</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync options source destination</span><br></pre></td></tr></table></figure>

<p>source和destination可以是本地或远程。在远程的情况下，需要指定登录名、远程服务器的名称和位置。</p>
<p><strong>rsync使用示例</strong></p>
<h2 id="1-在本地服务器上同步两个目录"><a href="#1-在本地服务器上同步两个目录" class="headerlink" title="1. 在本地服务器上同步两个目录"></a><strong>1. 在本地服务器上同步两个目录</strong></h2><p>用rsync – zvr在本地服务器上同步两个目录</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -zvr &#x2F;var&#x2F;opt&#x2F;installation&#x2F;inventory&#x2F; &#x2F;root&#x2F;temp</span><br><span class="line">building file list ... done</span><br><span class="line">sva.xml</span><br><span class="line">svB.xml</span><br><span class="line">.</span><br><span class="line">sent 26385 bytes  received 1098 bytes  54966.00 bytes&#x2F;sec</span><br><span class="line">total size is 44867  speedup is 1.63</span><br></pre></td></tr></table></figure>

<p>在上面rsync例子中：<br>• –z：允许压缩<br>• –v：冗长<br>• –r：递归<br>注：Rsync不会同步源文件或目录的时间戳</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls -l &#x2F;var&#x2F;opt&#x2F;installation&#x2F;inventory&#x2F;sva.xml &#x2F;root&#x2F;temp&#x2F;sva.xml</span><br><span class="line">-r--r--r-- 1 bin  bin  949 Jun 18  2009 &#x2F;var&#x2F;opt&#x2F;installation&#x2F;inventory&#x2F;sva.xml</span><br><span class="line">-r--r--r-- 1 root bin  949 Sep  2  2009 &#x2F;root&#x2F;temp&#x2F;sva.xml</span><br></pre></td></tr></table></figure>

<h2 id="2-用rsync-–a同步时间戳"><a href="#2-用rsync-–a同步时间戳" class="headerlink" title="2. 用rsync –a同步时间戳"></a><strong>2. 用rsync –a同步时间戳</strong></h2><p>rsync的-a选项是archive的意思，加了之后有以下作用：<br>• 递归模式<br>• 同步软链接<br>• 同步权限<br>• 同步时间戳<br>• 同步属主和属组<br>现在，我们执行与例1一样的<a target="_blank" rel="noopener" href="https://www.linuxcool.com/">命令</a>，不同的是使用-a选项。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -azv &#x2F;var&#x2F;opt&#x2F;installation&#x2F;inventory&#x2F; &#x2F;root&#x2F;temp&#x2F;</span><br><span class="line">building file list ... done</span><br><span class="line">.&#x2F;</span><br><span class="line">sva.xml</span><br><span class="line">svB.xml</span><br><span class="line">.</span><br><span class="line">sent 26499 bytes  received 1104 bytes  55206.00 bytes&#x2F;sec</span><br><span class="line">total size is 44867  speedup is 1.63</span><br></pre></td></tr></table></figure>

<p>我们可以看到，rsync将源目录下文件的时间戳也同步过来了。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls -l &#x2F;var&#x2F;opt&#x2F;installation&#x2F;inventory&#x2F;sva.xml &#x2F;root&#x2F;temp&#x2F;sva.xml</span><br><span class="line">-r--r--r-- 1 root  bin  949 Jun 18  2009 &#x2F;var&#x2F;opt&#x2F;installation&#x2F;inventory&#x2F;sva.xml</span><br><span class="line">-r--r--r-- 1 root  bin  949 Jun 18  2009 &#x2F;root&#x2F;temp&#x2F;sva.xml</span><br></pre></td></tr></table></figure>

<h2 id="3-只同步一个文件"><a href="#3-只同步一个文件" class="headerlink" title="3. 只同步一个文件"></a><strong>3. 只同步一个文件</strong></h2><p>指定文件名称，只同步一个文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -v &#x2F;var&#x2F;lib&#x2F;rpm&#x2F;Pubkeys &#x2F;root&#x2F;temp&#x2F;</span><br><span class="line">Pubkeys</span><br><span class="line"></span><br><span class="line">sent 42 bytes  received 12380 bytes  3549.14 bytes&#x2F;sec</span><br><span class="line">total size is 12288  speedup is 0.99</span><br></pre></td></tr></table></figure>

<h2 id="4-将本地文件同步到远程服务器"><a href="#4-将本地文件同步到远程服务器" class="headerlink" title="4. 将本地文件同步到远程服务器"></a><strong>4. 将本地文件同步到远程服务器</strong></h2><p>当同步到远程服务器时，我们需要指定用户名、远程服务器的IP地址和目标路径。格式为：username@remote_server_ip:path</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avz &#x2F;root&#x2F;temp&#x2F; linuxprobe@192.168.200.10:&#x2F;home&#x2F;linuxprobe&#x2F;temp&#x2F;</span><br><span class="line">Password:</span><br><span class="line">building file list ... done</span><br><span class="line">.&#x2F;</span><br><span class="line">rpm&#x2F;</span><br><span class="line">rpm&#x2F;Basenames</span><br><span class="line">rpm&#x2F;Conflictname</span><br><span class="line"></span><br><span class="line">sent 15810261 bytes  received 412 bytes  2432411.23 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 2.87</span><br></pre></td></tr></table></figure>

<h2 id="5-将远程文件同步到本地服务器"><a href="#5-将远程文件同步到本地服务器" class="headerlink" title="5. 将远程文件同步到本地服务器"></a><strong>5. 将远程文件同步到本地服务器</strong></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avz linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm &#x2F;root&#x2F;temp</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">rpm&#x2F;</span><br><span class="line">rpm&#x2F;Basenames</span><br><span class="line">.</span><br><span class="line">sent 406 bytes  received 15810230 bytes  2432405.54 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 2.87</span><br></pre></td></tr></table></figure>

<h2 id="6-指定使用某一shell同步"><a href="#6-指定使用某一shell同步" class="headerlink" title="6. 指定使用某一shell同步"></a><strong>6. 指定使用某一<a target="_blank" rel="noopener" href="https://www.linuxcool.com/">shell</a>同步</strong></h2><p>远程同步时，Rsync可以指定使用某一shell进行安全传输。如：使用rsync –e ssh选择ssh进行安全连接。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avz -e ssh linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm &#x2F;root&#x2F;temp</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">rpm&#x2F;</span><br><span class="line">rpm&#x2F;Basenames</span><br><span class="line"></span><br><span class="line">sent 406 bytes  received 15810230 bytes  2432405.54 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 2.87</span><br></pre></td></tr></table></figure>

<h2 id="7-不覆盖目标位置已改变的文件"><a href="#7-不覆盖目标位置已改变的文件" class="headerlink" title="7. 不覆盖目标位置已改变的文件"></a><strong>7. 不覆盖目标位置已改变的文件</strong></h2><p>如果目标位置的文件已被修改，而我们不希望旧文件覆盖它时，可以使用-u选项。下面例子中，目标位置的文件Basenames已经被修改，使用-u 选项是它不被旧文件覆盖。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls -l &#x2F;root&#x2F;temp&#x2F;Basenames</span><br><span class="line">total 39088</span><br><span class="line">-rwxr-xr-x 1 root root        4096 Sep  2 11:35 Basenames</span><br><span class="line"></span><br><span class="line">$ rsync -avzu linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm &#x2F;root&#x2F;temp</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">rpm&#x2F;</span><br><span class="line"></span><br><span class="line">sent 122 bytes  received 505 bytes  114.00 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 72258.31</span><br><span class="line"></span><br><span class="line">$ ls -lrt</span><br><span class="line">total 39088</span><br><span class="line">-rwxr-xr-x 1 root root        4096 Sep  2 11:35 Basenames</span><br></pre></td></tr></table></figure>

<h2 id="8-只同步目录树结构（不包括文件）"><a href="#8-只同步目录树结构（不包括文件）" class="headerlink" title="8. 只同步目录树结构（不包括文件）"></a><strong>8. 只同步目录树结构（不包括文件）</strong></h2><p>使用rsync - d选项只将目录树从源位置同步至目标位置。下面的示例中，以递归方式只同步目录树而不同步目录中的文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -v -d linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F; .</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">logrotate.status</span><br><span class="line">CAM&#x2F;</span><br><span class="line">YaST2&#x2F;</span><br><span class="line">acpi&#x2F;</span><br><span class="line"></span><br><span class="line">sent 240 bytes  received 1830 bytes  318.46 bytes&#x2F;sec</span><br><span class="line">total size is 956  speedup is 0.46</span><br></pre></td></tr></table></figure>

<h2 id="9-查看rsync进度"><a href="#9-查看rsync进度" class="headerlink" title="9. 查看rsync进度"></a><strong>9. 查看rsync进度</strong></h2><p>使用rsync –progress选项可以查看rsync进度，如多少文件已经被拷贝，完成率是多少等</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avz --progress linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; &#x2F;root&#x2F;temp&#x2F;</span><br><span class="line">Password:</span><br><span class="line">receiving file list ...</span><br><span class="line">19 files to consider</span><br><span class="line">.&#x2F;</span><br><span class="line">Basenames</span><br><span class="line">     5357568 100%   14.98MB&#x2F;s    0:00:00 (xfer#1, to-check&#x3D;17&#x2F;19)</span><br><span class="line">Conflictname</span><br><span class="line">       12288 100%   35.09kB&#x2F;s    0:00:00 (xfer#2, to-check&#x3D;16&#x2F;19)</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">sent 406 bytes  received 15810211 bytes  2108082.27 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 2.87</span><br></pre></td></tr></table></figure>

<h2 id="10-删除目标位置创建的文件"><a href="#10-删除目标位置创建的文件" class="headerlink" title="10. 删除目标位置创建的文件"></a><strong>10. 删除目标位置创建的文件</strong></h2><p>若我们希望rsync时删除在源位置不存在而在目标位置存在的文件，可以使用-delete选项。<br>此例中，我们在目标位置创建了一个新文件名为new-file.txt.，在同步过程中，-delete选项删除了new-file.txt文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Source and target are in sync. Now creating new file at the target.</span><br><span class="line">$ &gt; new-file.txt</span><br><span class="line"></span><br><span class="line">$ rsync -avz --delete linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; .</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">deleting new-file.txt</span><br><span class="line">.&#x2F;</span><br><span class="line"></span><br><span class="line">sent 26 bytes  received 390 bytes  48.94 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 108908.55</span><br></pre></td></tr></table></figure>

<h2 id="11-在目标位置不创建新文件"><a href="#11-在目标位置不创建新文件" class="headerlink" title="11. 在目标位置不创建新文件"></a><strong>11. 在目标位置不创建新文件</strong></h2><p>使用-existing选项使得在同步时只同步目标位置存在的文件，而不创建新文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#在源位置创建新文件new-file.txt</span><br><span class="line">[&#x2F;var&#x2F;lib&#x2F;rpm ]$ &gt; new-file.txt</span><br><span class="line">#同步目录</span><br><span class="line">$ rsync -avz --existing root@192.168.1.2:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; .</span><br><span class="line">root@192.168.1.2&#39;s password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">.&#x2F;</span><br><span class="line"></span><br><span class="line">sent 26 bytes  received 419 bytes  46.84 bytes&#x2F;sec</span><br><span class="line">total size is 88551424  speedup is 198991.96</span><br></pre></td></tr></table></figure>

<h2 id="12．查看源和目标的不同文件或目录"><a href="#12．查看源和目标的不同文件或目录" class="headerlink" title="12．查看源和目标的不同文件或目录"></a><strong>12．查看源和目标的不同文件或目录</strong></h2><p>源位置：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls -l &#x2F;var&#x2F;lib&#x2F;rpm</span><br><span class="line">-rw-r--r-- 1 root root  5357568 2010-06-24 08:57 Basenames</span><br><span class="line">-rw-r--r-- 1 root root    12288 2008-05-28 22:03 Conflictname</span><br><span class="line">-rw-r--r-- 1 root root  1179648 2010-06-24 08:57 Dirnames</span><br></pre></td></tr></table></figure>

<p>目标位置：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls -l &#x2F;root&#x2F;temp</span><br><span class="line">-rw-r--r-- 1 root root    12288 May 28  2008 Conflictname</span><br><span class="line">-rw-r--r-- 1 bin  bin   1179648 Jun 24 05:27 Dirnames</span><br><span class="line">-rw-r--r-- 1 root root        0 Sep  3 06:39 Basenames</span><br></pre></td></tr></table></figure>

<p>源和目标之间有两个不同之处：1. 文件Dirnames属主和属组不同 2. 文件Basenames的大小不同<br>使用-i选项来显示不同之处，如下所示</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avzi linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; &#x2F;root&#x2F;temp&#x2F;</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">&gt;f.st.... Basenames</span><br><span class="line">.f....og. Dirnames</span><br><span class="line"></span><br><span class="line">sent 48 bytes  received 2182544 bytes  291012.27 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 20.76</span><br><span class="line">In the output it displays some 9 letters in front of the file name or directory name indicating the changes.</span><br></pre></td></tr></table></figure>

<p>可以看到，在文件名或目录名前有9个字符来代表不同之处。此例中，Basenames和Dirnames前的字符代表含义如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; 代表文件已被传输到本地主机。</span><br><span class="line">f：代表这是个文件</span><br><span class="line">s：代表文件大小发生变化</span><br><span class="line">t：代表时间戳发生变化</span><br><span class="line">o：属主发生变化</span><br><span class="line">g：属组发生变化</span><br></pre></td></tr></table></figure>

<p><strong>13. 在传输时指定包括或排除某些文件</strong><br>只传输’P’开头的文件或目录(使用rsync include)，不传输其他任何文件(使用rsync exclude)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avz --include &#39;P*&#39; --exclude &#39;*&#39; linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; &#x2F;root&#x2F;temp&#x2F;</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">.&#x2F;</span><br><span class="line">Packages</span><br><span class="line">Providename</span><br><span class="line">Provideversion</span><br><span class="line">Pubkeys</span><br><span class="line"></span><br><span class="line">sent 129 bytes  received 10286798 bytes  2285983.78 bytes&#x2F;sec</span><br><span class="line">total size is 32768000  speedup is 3.19</span><br></pre></td></tr></table></figure>

<p><strong>14. 不传输大文件</strong></p>
<p>使用rsync –max-size选项后，rsync将不传输大于指定大小的文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ rsync -avz --max-size&#x3D;&#39;100K&#39; linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; &#x2F;root&#x2F;temp&#x2F;</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">.&#x2F;</span><br><span class="line">Conflictname</span><br><span class="line">Group</span><br><span class="line">Installtid</span><br><span class="line">Name</span><br><span class="line">Sha1header</span><br><span class="line">Sigmd5</span><br><span class="line">Triggername</span><br><span class="line"></span><br><span class="line">sent 252 bytes  received 123081 bytes  18974.31 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 367.35</span><br></pre></td></tr></table></figure>

<p><strong>15. 传输整个文件</strong></p>
<p>rsync的主要特征之一是它只传输改变的块到目标位置，而不是传输整个文件。如果网络带宽对你不是问题(CPU有)，您可以使用-w选项来传输整个文件。它会加速rsync过程，因为它不用在源和目标位置执行校验和。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#  rsync -avzW  linuxprobe@192.168.200.10:&#x2F;var&#x2F;lib&#x2F;rpm&#x2F; &#x2F;root&#x2F;temp</span><br><span class="line">Password:</span><br><span class="line">receiving file list ... done</span><br><span class="line">.&#x2F;</span><br><span class="line">Basenames</span><br><span class="line">Conflictname</span><br><span class="line">Dirnames</span><br><span class="line">Filemd5s</span><br><span class="line">Group</span><br><span class="line">Installtid</span><br><span class="line">Name</span><br><span class="line"></span><br><span class="line">sent 406 bytes  received 15810211 bytes  2874657.64 bytes&#x2F;sec</span><br><span class="line">total size is 45305958  speedup is 2.87</span><br></pre></td></tr></table></figure>



<h2 id="Linux不能上网ping-unknown-host问题排查思路"><a href="#Linux不能上网ping-unknown-host问题排查思路" class="headerlink" title="Linux不能上网ping:unknown host问题排查思路"></a>Linux不能上网ping:unknown host问题排查思路</h2><p>首先，检查DNS设置，对比其他可以ping的服务器， 再加一个dns地址</p>
<p><code>cat /etc/resolv.conf </code></p>
<p>一、检查网卡配置<br>出现 ping:unknown host 的问题最主要是 linux 设置的DNS解析不了<br>遇到这个问题我们先检查一下网卡的设置情况，输入ifconfig可以查看当前网卡配置的IP地址并且查看配置文件中网络的设置</p>
<p>二、检查网卡网关设置<br>#查看网关情况<br> <code>route -n</code></p>
<p>#ping网关,查看连通性</p>
<p>三、查看系统默认的网关(如果没有，可以手动添加一个上去)<br>$ cat /etc/sysconfig/network<br>NETWORKING_IPV6=no<br>PEERNTP=no<br>GATEWAY=192.168.16.1<br>HOSTNAME=linux-node.example.com</p>
<p>————————————————</p>
<h1 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h1><p>Oh My Zsh 是一款社区驱动的命令行工具，是基于 Zsh 命令行的一个扩展工具集，提供了丰富的扩展功能，如：主题配置，插件机制，内置的便捷操作等，可以给我们一种全新的命令行使用体验。下文对 Oh My Zsh 的安装及配置方法进行总结，只总结最佳的实践。</p>
<h2 id="1-安装-Oh-My-Zsh"><a href="#1-安装-Oh-My-Zsh" class="headerlink" title="1. 安装 Oh My Zsh"></a>1. 安装 Oh My Zsh</h2><h1 id="Ubuntu更换阿里云软件源"><a href="#Ubuntu更换阿里云软件源" class="headerlink" title="Ubuntu更换阿里云软件源"></a>Ubuntu更换阿里云软件源</h1><h2 id="1-备份"><a href="#1-备份" class="headerlink" title="1. 备份"></a>1. 备份</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak </span><br></pre></td></tr></table></figure>

<h2 id="2-修改"><a href="#2-修改" class="headerlink" title="2.修改"></a>2.修改</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure>

<p>将source.list文件内容替换成下面的</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-proposed main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; trusty-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<h2 id="3-更新"><a href="#3-更新" class="headerlink" title="3. 更新"></a>3. 更新</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>



<p>第一步：安装 Zsh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 安装 Zsh</span><br><span class="line">sudo apt install zsh</span><br><span class="line"></span><br><span class="line"># 将 Zsh 设置为默认 Shell</span><br><span class="line">chsh -s &#x2F;bin&#x2F;zsh</span><br><span class="line"></span><br><span class="line"># 可以通过 echo $SHELL 查看当前默认的 Shell，如果没有改为 &#x2F;bin&#x2F;zsh，那么需要重启 Shell。</span><br><span class="line"># 查看有的shell cat &#x2F;etc&#x2F;shells</span><br></pre></td></tr></table></figure>

<p>第二步：安装 Oh My Zsh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 安装 Oh My Zsh</span><br><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;raw&#x2F;master&#x2F;tools&#x2F;install.sh -O - | sh</span><br><span class="line"># 以上命令可能不好使，可使用如下两条命令</span><br><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;raw&#x2F;master&#x2F;tools&#x2F;install.sh</span><br><span class="line">bash .&#x2F;install.sh</span><br></pre></td></tr></table></figure>

<h2 id="2-Zsh-的配置"><a href="#2-Zsh-的配置" class="headerlink" title="2. Zsh 的配置"></a>2. Zsh 的配置</h2><h3 id="2-1主题及字体的配置"><a href="#2-1主题及字体的配置" class="headerlink" title="2.1主题及字体的配置"></a>2.1主题及字体的配置</h3><p>如果要在  <a target="_blank" rel="noopener" href="https://github.com/robbyrussell/oh-my-zsh">Oh My Zsh</a>中安装 Powerlevel10k ，只需执行如下指令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone --depth&#x3D;1 https:&#x2F;&#x2F;gitee.com&#x2F;romkatv&#x2F;powerlevel10k.git $&#123;ZSH_CUSTOM:-$HOME&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;themes&#x2F;powerlevel10k</span><br><span class="line"></span><br><span class="line">Set &#96;ZSH_THEME&#x3D;&quot;powerlevel10k&#x2F;powerlevel10k&quot;&#96; in &#96;~&#x2F;.zshrc&#96;.</span><br><span class="line">source ~&#x2F;.zshrc</span><br><span class="line">p10k configure #配置</span><br></pre></td></tr></table></figure>





<h2 id="3-插件配置"><a href="#3-插件配置" class="headerlink" title="3. 插件配置"></a>3. 插件配置</h2><h3 id="3-1-autojump"><a href="#3-1-autojump" class="headerlink" title="3.1 autojump"></a>3.1 <a target="_blank" rel="noopener" href="https://github.com/wting/autojump">autojump</a></h3><p>更快地切换目录，不受当前所在目录的限制。</p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install autojump</span><br></pre></td></tr></table></figure>

<p>用法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 跳转到目录</span><br><span class="line">j dir</span><br><span class="line"># 可以通过GUI文件管理器打开指定目录，执行命令:</span><br><span class="line">jo dir</span><br></pre></td></tr></table></figure>

<h3 id="3-2-fasd"><a href="#3-2-fasd" class="headerlink" title="3.2 fasd"></a>3.2 <a target="_blank" rel="noopener" href="https://github.com/clvv/fasd">fasd</a></h3><p>快速访问文件或目录，功能比前一个插件强大。</p>
<p>安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install fasd</span><br></pre></td></tr></table></figure>

<p>用法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias f&#x3D;&#39;fasd -f&#39;          # 文件</span><br><span class="line">alias d&#x3D;&#39;fasd -d&#39;        # 目录</span><br><span class="line">alias a&#x3D;&#39;fasd -a&#39;        # 任意</span><br><span class="line">alias s&#x3D;&#39;fasd -si&#39;       # 显示并选择</span><br><span class="line"></span><br><span class="line">alias sd&#x3D;&#39;fasd -sid&#39;        # 选择目录</span><br><span class="line">alias sf&#x3D;&#39;fasd -sif&#39;          # 选择文件</span><br><span class="line">alias z&#x3D;&#39;fasd_cd -d&#39;       # 跳转至目录</span><br><span class="line">alias zz&#x3D;&#39;fasd_cd -d -i&#39;  # 选择并跳转至目录</span><br></pre></td></tr></table></figure>

<h3 id="3-3-zsh-autosuggestions"><a href="#3-3-zsh-autosuggestions" class="headerlink" title="3.3 zsh-autosuggestions"></a>3.3 <a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a></h3><p>命令行命令键入时的历史命令建议插件</p>
<p>按照官方文档提示，直接执行如下命令安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-autosuggestions</span><br></pre></td></tr></table></figure>

<h3 id="3-4-zsh-syntax-highlighting"><a href="#3-4-zsh-syntax-highlighting" class="headerlink" title="3.4 zsh-syntax-highlighting"></a>3.4 <a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a></h3><p>命令行语法高亮插件</p>
<p>按照官方文档提示，直接执行如下命令安装：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>

<h3 id="3-5-插件最终配置"><a href="#3-5-插件最终配置" class="headerlink" title="3.5 插件最终配置"></a>3.5 插件最终配置</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># autojump 功能弱，fasd 功能强，但是没 autojump 实用</span><br><span class="line"># 值得注意的是，根据官方文档，zsh-syntax-highlighting 插件需放在最后</span><br><span class="line">plugins&#x3D;(</span><br><span class="line">  git extract autojump zsh-autosuggestions zsh-syntax-highlighting</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="4-「-zshrc」文件完整修改"><a href="#4-「-zshrc」文件完整修改" class="headerlink" title="4.「.zshrc」文件完整修改"></a>4.「.zshrc」文件完整修改</h2><p>Oh My Zsh 配置文件的完整修改结果，只有对配置文件进行如下修改，才能使上述配置生效。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 设置字体模式以及配置命令行的主题，语句顺序不能颠倒</span><br><span class="line">POWERLEVEL9K_MODE&#x3D;&#39;nerdfont-complete&#39;</span><br><span class="line">ZSH_THEME&#x3D;&quot;powerlevel9k&#x2F;powerlevel9k&quot;</span><br><span class="line"></span><br><span class="line"># 以下内容去掉注释即可生效：</span><br><span class="line"># 启动错误命令自动更正</span><br><span class="line">ENABLE_CORRECTION&#x3D;&quot;true&quot;</span><br><span class="line"></span><br><span class="line"># 在命令执行的过程中，使用小红点进行提示</span><br><span class="line">COMPLETION_WAITING_DOTS&#x3D;&quot;true&quot;</span><br><span class="line"></span><br><span class="line"># 启用已安装的插件</span><br><span class="line">plugins&#x3D;(</span><br><span class="line">  git extract fasd zsh-autosuggestions zsh-syntax-highlighting</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><p>下面总结 Oh My Zsh 配置相关的其他 bash 命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#  查看当前所用的 Shell</span><br><span class="line">echo $SHELL</span><br><span class="line"></span><br><span class="line"># 查看系统内已安装的 Shell</span><br><span class="line">cat &#x2F;etc&#x2F;shells</span><br><span class="line"></span><br><span class="line"># 用 GUI 文件管理器或编辑器打开指定的的文件或目录</span><br><span class="line">xdg-open fileOrDir</span><br></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000013612471">Zsh + Oh My Zsh 全程指南「程序员必备」</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/robbyrussell/oh-my-zsh/wiki/Themes">Zsh 全程指南</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/EasonJim/p/7863099.html">Ubuntu 16.04 下安装 Zsh 和 Oh My Zsh</a></li>
</ol>
<h2 id="配合wsl-vscode的C-环境"><a href="#配合wsl-vscode的C-环境" class="headerlink" title="配合wsl vscode的C++环境"></a>配合wsl vscode的C++环境</h2><p>首先，在把ubuntu换成阿里源的情况下配置了好久，总是会有错误，然后，换回原始源再安装，一切就是那么顺滑。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">zq</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2019/09/03/linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">http://example.com/2019/09/03/linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">记事本</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/%E6%B1%87%E6%80%BB/">汇总</a></div><div class="post_share"><div class="social-share" data-image="/imgs/butiful2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/imgs/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zq</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a id="card-info-btn" href="mailto:929679517@qq.com"><i class="fas fa-envelope"></i><span>联系我</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">linux 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-number">1.0.1.</span> <span class="toc-text">目录的操作：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E9%98%85"><span class="toc-number">1.0.1.1.</span> <span class="toc-text">文件内容查阅</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%88%96%E6%8C%87%E4%BB%A4%E7%9A%84%E6%90%9C%E5%AF%BB"><span class="toc-number">1.0.1.2.</span> <span class="toc-text">文件或指令的搜寻</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E7%9B%B8%E5%85%B3"><span class="toc-number">1.1.</span> <span class="toc-text">压缩相关</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%B8%B8%E8%A7%81%E5%8E%8B%E7%BC%A9%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">1. 常见压缩指令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#screen%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">screen常用命令：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%9A%84%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.2.1.</span> <span class="toc-text">查看所有的会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.2.2.</span> <span class="toc-text">创建一个会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.2.3.</span> <span class="toc-text">返回一个会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.2.4.</span> <span class="toc-text">删除一个会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%B7%B2%E7%BB%8F%E6%8E%89%E7%BA%BF-attached-%E7%9A%84%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.2.5.</span> <span class="toc-text">返回一个已经掉线(attached)的会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ln%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">1.2.6.</span> <span class="toc-text">ln的用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98%EF%BC%8C%E6%8C%82%E8%BD%BD"><span class="toc-number">1.2.7.</span> <span class="toc-text">查看机械硬盘，挂载</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E9%85%8D%E7%BD%AE%E7%A1%AC%E7%9B%98%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="toc-number">2.</span> <span class="toc-text">Linux配置硬盘自动挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BASwap%E5%88%86%E5%8C%BA%EF%BC%9A"><span class="toc-number">2.0.1.</span> <span class="toc-text">创建Swap分区：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F"><span class="toc-number">2.0.2.</span> <span class="toc-text">内网穿透</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8wget%E4%B8%8B%E8%BD%BDgoogle%E4%BA%91%E7%9B%98%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">2.0.3.</span> <span class="toc-text">用wget下载google云盘的文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-number">3.</span> <span class="toc-text">网络相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E5%85%B3"><span class="toc-number">3.0.1.</span> <span class="toc-text">网关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85cuda"><span class="toc-number">4.</span> <span class="toc-text">安装cuda</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9B%B4%E6%8D%A2cuda%E7%89%88%E6%9C%AC%EF%BC%8C%E5%AF%BC%E8%87%B4%E9%A9%B1%E5%8A%A8%E4%B8%8D%E5%AF%B9%E5%BA%94"><span class="toc-number">4.0.1.</span> <span class="toc-text">1 . 更换cuda版本，导致驱动不对应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9F%A5%E7%9C%8B%E5%8F%AF%E7%94%A8%E7%9A%84%E9%A9%B1%E5%8A%A8%E7%89%88%E6%9C%AC"><span class="toc-number">4.0.2.</span> <span class="toc-text">1. 查看可用的驱动版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9F%A5%E6%89%BE%E6%9C%AC%E6%9C%BA%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC"><span class="toc-number">4.0.3.</span> <span class="toc-text">2. 查找本机内核版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%89%E8%A3%85%E5%AF%B9%E5%BA%94%E7%89%88%E6%9C%AC%E5%B9%B6%E9%87%8D%E5%90%AF"><span class="toc-number">4.0.4.</span> <span class="toc-text">3. 安装对应版本并重启</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%90%AF%E5%90%8Ecuda%E6%B2%A1%E4%BA%86"><span class="toc-number">4.1.</span> <span class="toc-text">重启后cuda没了</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ssh"><span class="toc-number">5.</span> <span class="toc-text">ssh</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%AF%86%E9%92%A5"><span class="toc-number">5.0.1.</span> <span class="toc-text">生成密钥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%86%E9%92%A5%E6%8B%B7%E8%B4%9D%EF%BC%88%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86%EF%BC%89"><span class="toc-number">5.0.2.</span> <span class="toc-text">密钥拷贝（免密登陆）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E4%BF%AE%E6%94%B9ssh%E9%85%8D%E7%BD%AE"><span class="toc-number">5.0.2.1.</span> <span class="toc-text">2.3 修改ssh配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95"><span class="toc-number">5.0.3.</span> <span class="toc-text">远程登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">5.0.4.</span> <span class="toc-text">远程操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E5%8F%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">5.0.5.</span> <span class="toc-text">两台服务器的文件操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-number">5.1.</span> <span class="toc-text">创建用户</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE"><span class="toc-number">6.</span> <span class="toc-text">查找</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#google-drive-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7gdrive%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">7.</span> <span class="toc-text">google drive 命令行工具gdrive安装与使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85"><span class="toc-number">7.1.</span> <span class="toc-text">1.安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-gdrive%E9%85%8D%E7%BD%AE"><span class="toc-number">7.2.</span> <span class="toc-text">2.gdrive配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-gdrive%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">7.3.</span> <span class="toc-text">3.gdrive常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E5%88%97%E4%B8%BE"><span class="toc-number">7.3.1.</span> <span class="toc-text">目录列举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95%E4%B8%8B%E8%BD%BD"><span class="toc-number">7.3.2.</span> <span class="toc-text">文件或目录下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">7.3.3.</span> <span class="toc-text">文件上传</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="toc-number">7.3.4.</span> <span class="toc-text">通过标准输入上传文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%96%87%E4%BB%B6%EF%BC%8C%E5%B0%86%E4%BA%A7%E7%94%9F%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%80%E4%B8%AA%E6%96%B0%E7%89%88%E6%9C%AC"><span class="toc-number">7.3.5.</span> <span class="toc-text">更新文件，将产生文件的一个新版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BA%AB%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-number">7.3.6.</span> <span class="toc-text">分享文件或目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">7.3.7.</span> <span class="toc-text">删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%A4%B9%E5%88%B0drive"><span class="toc-number">7.3.8.</span> <span class="toc-text">同步本地文件夹到drive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number">7.3.9.</span> <span class="toc-text">下载指定版本文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC"><span class="toc-number">7.3.10.</span> <span class="toc-text">删除指定文件指定版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E4%BD%BF%E7%94%A8%F0%9F%8C%B0"><span class="toc-number">7.3.11.</span> <span class="toc-text">一些使用🌰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rsync"><span class="toc-number">8.</span> <span class="toc-text">rsync</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E5%90%8C%E6%AD%A5%E4%B8%A4%E4%B8%AA%E7%9B%AE%E5%BD%95"><span class="toc-number">8.1.</span> <span class="toc-text">1. 在本地服务器上同步两个目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%94%A8rsync-%E2%80%93a%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">8.2.</span> <span class="toc-text">2. 用rsync –a同步时间戳</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%8F%AA%E5%90%8C%E6%AD%A5%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6"><span class="toc-number">8.3.</span> <span class="toc-text">3. 只同步一个文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%B0%86%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5%E5%88%B0%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">8.4.</span> <span class="toc-text">4. 将本地文件同步到远程服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%B0%86%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5%E5%88%B0%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">8.5.</span> <span class="toc-text">5. 将远程文件同步到本地服务器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%8C%87%E5%AE%9A%E4%BD%BF%E7%94%A8%E6%9F%90%E4%B8%80shell%E5%90%8C%E6%AD%A5"><span class="toc-number">8.6.</span> <span class="toc-text">6. 指定使用某一shell同步</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%B8%8D%E8%A6%86%E7%9B%96%E7%9B%AE%E6%A0%87%E4%BD%8D%E7%BD%AE%E5%B7%B2%E6%94%B9%E5%8F%98%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">8.7.</span> <span class="toc-text">7. 不覆盖目标位置已改变的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%8F%AA%E5%90%8C%E6%AD%A5%E7%9B%AE%E5%BD%95%E6%A0%91%E7%BB%93%E6%9E%84%EF%BC%88%E4%B8%8D%E5%8C%85%E6%8B%AC%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number">8.8.</span> <span class="toc-text">8. 只同步目录树结构（不包括文件）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E6%9F%A5%E7%9C%8Brsync%E8%BF%9B%E5%BA%A6"><span class="toc-number">8.9.</span> <span class="toc-text">9. 查看rsync进度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%88%A0%E9%99%A4%E7%9B%AE%E6%A0%87%E4%BD%8D%E7%BD%AE%E5%88%9B%E5%BB%BA%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">8.10.</span> <span class="toc-text">10. 删除目标位置创建的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E5%9C%A8%E7%9B%AE%E6%A0%87%E4%BD%8D%E7%BD%AE%E4%B8%8D%E5%88%9B%E5%BB%BA%E6%96%B0%E6%96%87%E4%BB%B6"><span class="toc-number">8.11.</span> <span class="toc-text">11. 在目标位置不创建新文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%EF%BC%8E%E6%9F%A5%E7%9C%8B%E6%BA%90%E5%92%8C%E7%9B%AE%E6%A0%87%E7%9A%84%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-number">8.12.</span> <span class="toc-text">12．查看源和目标的不同文件或目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E4%B8%8D%E8%83%BD%E4%B8%8A%E7%BD%91ping-unknown-host%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E6%80%9D%E8%B7%AF"><span class="toc-number">8.13.</span> <span class="toc-text">Linux不能上网ping:unknown host问题排查思路</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#zsh"><span class="toc-number">9.</span> <span class="toc-text">zsh</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85-Oh-My-Zsh"><span class="toc-number">9.1.</span> <span class="toc-text">1. 安装 Oh My Zsh</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ubuntu%E6%9B%B4%E6%8D%A2%E9%98%BF%E9%87%8C%E4%BA%91%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="toc-number">10.</span> <span class="toc-text">Ubuntu更换阿里云软件源</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%A4%87%E4%BB%BD"><span class="toc-number">10.1.</span> <span class="toc-text">1. 备份</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9"><span class="toc-number">10.2.</span> <span class="toc-text">2.修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%9B%B4%E6%96%B0"><span class="toc-number">10.3.</span> <span class="toc-text">3. 更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Zsh-%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">10.4.</span> <span class="toc-text">2. Zsh 的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E4%B8%BB%E9%A2%98%E5%8F%8A%E5%AD%97%E4%BD%93%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">10.4.1.</span> <span class="toc-text">2.1主题及字体的配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">10.5.</span> <span class="toc-text">3. 插件配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-autojump"><span class="toc-number">10.5.1.</span> <span class="toc-text">3.1 autojump</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-fasd"><span class="toc-number">10.5.2.</span> <span class="toc-text">3.2 fasd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-zsh-autosuggestions"><span class="toc-number">10.5.3.</span> <span class="toc-text">3.3 zsh-autosuggestions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-zsh-syntax-highlighting"><span class="toc-number">10.5.4.</span> <span class="toc-text">3.4 zsh-syntax-highlighting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E6%8F%92%E4%BB%B6%E6%9C%80%E7%BB%88%E9%85%8D%E7%BD%AE"><span class="toc-number">10.5.5.</span> <span class="toc-text">3.5 插件最终配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E3%80%8C-zshrc%E3%80%8D%E6%96%87%E4%BB%B6%E5%AE%8C%E6%95%B4%E4%BF%AE%E6%94%B9"><span class="toc-number">10.6.</span> <span class="toc-text">4.「.zshrc」文件完整修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">10.7.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">10.8.</span> <span class="toc-text">参考资料</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E5%90%88wsl-vscode%E7%9A%84C-%E7%8E%AF%E5%A2%83"><span class="toc-number">10.9.</span> <span class="toc-text">配合wsl vscode的C++环境</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2019/09/03/linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="linux 常用命令"><img src="/imgs/butiful2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 常用命令"/></a><div class="content"><a class="title" href="/2019/09/03/linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="linux 常用命令">linux 常用命令</a><time datetime="2019-09-03T05:43:38.250Z" title="发表于 2019-09-03 13:43:38">2019-09-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By zq</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>